<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.9.4/css/bulma.min.css">
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
    <title>form</title>
</head>

<body>
    <script>
        function goToCostEstimator() {
            alert('aaa');
            // send get request to the server
            axios.get('https://jolly-stone-17db500215be461fad0fee28b2915c58.azurewebsites.net/')
                .then(function (response) {
                    console.log(response);
                    console.log("trigger authentification");
                })
                .catch(function (error) {
                    console.log(error);
                });
            // send the form to the server
            axios.post('https://jolly-stone-17db500215be461fad0fee28b2915c58.azurewebsites.net/api', {
                name: document.getElementById("name").value,
                message: document.getElementById("message").value
            })
                .then(function (response) {
                    console.log(response);
                })
                .catch(function (error) {
                    console.log(error);
                });
            return false;
        }

        document.addEventListener('DOMContentLoaded', () => {
            document.getElementById('submit').onclick = goToCostEstimator;
        });



    </script>
    <div class="container">
        <form action="https://jolly-stone-17db500215be461fad0fee28b2915c58.azurewebsites.net/api" method="post">
            <!--form action="http://127.0.0.1:5000/api" method="post" -->
            <div class="field">
                <label class="label">Name</label>
                <div class="control">
                    <input class="input" id="name" type="text" placeholder="Text input" name="name">
                </div>
            </div>

            <div class="field">
                <label class="label">Message</label>
                <div class="control">
                    <textarea class="textarea" placeholder="Textarea" name="message"></textarea>
                </div>
            </div>

            <div class="field is-grouped">
                <div class="control">
                    <button class="button is-link" id="submit">Submit</button>
                </div>
                <div class="control">
                    <button class="button is-link is-light">Cancel</button>
                </div>
            </div>
        </form>
    </div>
</body>

</html>